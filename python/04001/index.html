<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="
  WebP Conversion Program
  #


  What is it?
  #

I once wrote about converting images to WebP for blog image optimization. However, uploading images online for conversion every time is a bit inconvenient, and using Photoshop for this is also not ideal.
I downloaded a conversion program from the Google Dev site, but it requires entering commands in the CMD each time. This is also tedious, so I decided to create a simple Python program. I set up the program as shown below, making sure that Python is added to the Windows PATH so it can be run from anywhere.">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark">
<meta name="google-adsense-account" content="ca-pub-7362089186642274">
<meta name="naver-site-verification" content="836a15f31b5398a85626d8b06558547bcadd8a4c" />
<meta name="google-site-verification" content="qCBCvelNiGg9-YydwmAkQziJ_pgLxNRTyRKQiCzQo_A" /><meta property="og:url" content="https://mcjoi.github.io/python/04001/">
  <meta property="og:site_name" content="shaaaaallow Dive">
  <meta property="og:title" content="WebP Conversion Program">
  <meta property="og:description" content="WebP Conversion Program # What is it? # I once wrote about converting images to WebP for blog image optimization. However, uploading images online for conversion every time is a bit inconvenient, and using Photoshop for this is also not ideal.
I downloaded a conversion program from the Google Dev site, but it requires entering commands in the CMD each time. This is also tedious, so I decided to create a simple Python program. I set up the program as shown below, making sure that Python is added to the Windows PATH so it can be run from anywhere.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="python">
    <meta property="article:published_time" content="2025-08-12T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-08-12T00:00:00+00:00">
    <meta property="article:tag" content="Python">
<title>WebP Conversion Program | shaaaaallow Dive</title>
<link rel="icon" href="https://mcjoi.github.io/favicon.png" >
<link rel="manifest" href="https://mcjoi.github.io/manifest.json">
<link rel="canonical" href="https://mcjoi.github.io/python/04001/">
<link rel="stylesheet" href="https://mcjoi.github.io/book.min.df5290a8938cc6a68520b409dcdaa6890cb37aca76be81085dd170dabffdfbdc.css" integrity="sha256-31KQqJOMxqaFILQJ3NqmiQyzesp2voEIXdFw2r/9&#43;9w=" crossorigin="anonymous">
  <script defer src="https://mcjoi.github.io/fuse.min.js"></script>
  <script defer src="https://mcjoi.github.io/en.search.min.4449fd63da71a305cefb6aee41bf3cada59e271687bc1065b5f02caed78b9467.js" integrity="sha256-REn9Y9pxowXO&#43;2ruQb88raWeJxaHvBBltfAsrteLlGc=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
--><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7362089186642274"
     crossorigin="anonymous"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-MCBX55V1KD"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-MCBX55V1KD');
</script>

<script type="text/javascript" src="//wcs.naver.net/wcslog.js"></script>
<script type="text/javascript">
if(!wcs_add) var wcs_add = {};
wcs_add["wa"] = "14fdea2e7a4d6b0";
if(window.wcs) {
  wcs_do();
}
</script>

  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="https://mcjoi.github.io/"><span>shaaaaallow Dive</span>
  </a>
</h2>


<div class="book-search hidden">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>
<script>document.querySelector(".book-search").classList.remove("hidden")</script>






  <li class="">
    <a href="https://mcjoi.github.io/macrotoolkit-xls/">MacroToolkit-Excel</a>
  </li>

  <li class="">
    <a href="https://mcjoi.github.io/macrotoolkit-ppt/">MacroToolkit-PPT</a>
  </li>

  <li class="">
    <a href="https://mcjoi.github.io/vba/">VBA</a>
  </li>

  <li class="">
    <a href="https://mcjoi.github.io/python/">Python</a>
  </li>

  <li class="">
    <a href="https://mcjoi.github.io/flutter/">Flutter</a>
  </li>

  <li class="">
    <a href="https://mcjoi.github.io/windows_linux/">Windows_Linux</a>
  </li>

  <li class="">
    <a href="https://mcjoi.github.io/notes/">Notes</a>
  </li>














  <div class="sidebar-post-list">
    <h3>Python</h3>
    <ul>
      
        <li>
          <a href="https://mcjoi.github.io/python/04001/" class="active">
            WebP Conversion Program
          </a>
        </li>
      
        <li>
          <a href="https://mcjoi.github.io/python/04002/" >
            Move file by extensions
          </a>
        </li>
      
    </ul>
  </div>









































</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="https://mcjoi.github.io/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <h3>WebP Conversion Program</h3>

  <label for="toc-control">
    
    <img src="https://mcjoi.github.io/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#what-is-it">What is it?</a></li>
    <li><a href="#sample-code">sample code</a></li>
    <li><a href="#result">result</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  
  <article class="markdown book-article"><h1 id="webp-conversion-program">
  WebP Conversion Program
  <a class="anchor" href="#webp-conversion-program">#</a>
</h1>
<h2 id="what-is-it">
  What is it?
  <a class="anchor" href="#what-is-it">#</a>
</h2>
<p>I once wrote about converting images to WebP for blog image optimization. However, uploading images online for conversion every time is a bit inconvenient, and using Photoshop for this is also not ideal.</p>
<p>I downloaded a conversion program from the Google Dev site, but it requires entering commands in the CMD each time. This is also tedious, so I decided to create a simple Python program. I set up the program as shown below, making sure that Python is added to the Windows PATH so it can be run from anywhere.</p>
<hr>
<p>python.py   ← The Python script file<br>
└── libwebp-1.4.0-windows-x64  ← Folder containing the WebP library</p>
<hr>
<p>By placing a batch file on the desktop (or anywhere else), you can easily execute the Python program. Just make sure the required Python packages are installed in advance.</p>
<p>When you run it, the first file explorer window will let you select the file you want to convert, and the second will let you choose the folder where the converted file will be saved. Of course, you can also tweak the code to fix the target folder to any location you prefer.</p>
<h2 id="sample-code">
  sample code
  <a class="anchor" href="#sample-code">#</a>
</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> os
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> tkinter
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> tkinter <span style="color:#f92672">import</span> filedialog
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> PIL <span style="color:#f92672">import</span> Image
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> PIL.ExifTags <span style="color:#f92672">import</span> TAGS
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_image_width</span>(image_path):
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Open the image</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> Image<span style="color:#f92672">.</span>open(image_path) <span style="color:#66d9ef">as</span> img:
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Get the width</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> img<span style="color:#f92672">.</span>width            
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 폴더선택</span>
</span></span><span style="display:flex;"><span>    root <span style="color:#f92672">=</span> tkinter<span style="color:#f92672">.</span>Tk()
</span></span><span style="display:flex;"><span>    root<span style="color:#f92672">.</span>withdraw()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    file_path <span style="color:#f92672">=</span> filedialog<span style="color:#f92672">.</span>askopenfilenames(
</span></span><span style="display:flex;"><span>        parent<span style="color:#f92672">=</span>root, initialdir<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/&#34;</span>, title<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Please select target files&#39;</span>) <span style="color:#75715e"># 대상파일선택</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    dir_path <span style="color:#f92672">=</span> filedialog<span style="color:#f92672">.</span>askdirectory(
</span></span><span style="display:flex;"><span>        parent<span style="color:#f92672">=</span>root, initialdir<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/&#34;</span>, title<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Please select saving directory&#39;</span>) <span style="color:#75715e"># 저장폴더선택</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    programPath <span style="color:#f92672">=</span> os<span style="color:#f92672">.</span>getcwd() <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;/libwebp-1.4.0-windows-x64/bin/cwebp.exe&#34;</span> <span style="color:#75715e"># 프로그램저장경로(수정!!!)</span>
</span></span><span style="display:flex;"><span>   
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> fileConvertion <span style="color:#f92672">in</span> file_path :        
</span></span><span style="display:flex;"><span>       
</span></span><span style="display:flex;"><span>        filename <span style="color:#f92672">=</span> os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>basename(fileConvertion)        
</span></span><span style="display:flex;"><span>        name, extension <span style="color:#f92672">=</span> os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>splitext(filename, )        
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Example usage</span>
</span></span><span style="display:flex;"><span>        image_path <span style="color:#f92672">=</span> fileConvertion
</span></span><span style="display:flex;"><span>        print(image_path)
</span></span><span style="display:flex;"><span>        width <span style="color:#f92672">=</span> get_image_width(image_path)
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Image width: </span><span style="color:#e6db74">{</span>width<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> width <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">700</span> :
</span></span><span style="display:flex;"><span>            command <span style="color:#f92672">=</span> programPath <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39; &#34;&#39;</span> <span style="color:#f92672">+</span> fileConvertion <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;&#34; -q 100 -resize 700 0 -o &#34;&#39;</span> <span style="color:#f92672">+</span> dir_path <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;/&#39;</span> <span style="color:#f92672">+</span> name <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;.webp&#34;&#39;</span>
</span></span><span style="display:flex;"><span>            print(command)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span> :
</span></span><span style="display:flex;"><span>            command <span style="color:#f92672">=</span> programPath <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39; &#34;&#39;</span> <span style="color:#f92672">+</span> fileConvertion <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;&#34; -q 100 -o &#34;&#39;</span> <span style="color:#f92672">+</span> dir_path <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;/&#39;</span> <span style="color:#f92672">+</span> name <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;.webp&#34;&#39;</span>
</span></span><span style="display:flex;"><span>   
</span></span><span style="display:flex;"><span>        os<span style="color:#f92672">.</span>system(command<span style="color:#f92672">=</span>command)
</span></span></code></pre></div><h2 id="result">
  result
  <a class="anchor" href="#result">#</a>
</h2>
<p>Because the size was also converted, the file size is greatly reduced.
<img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&amp;fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdna%2FbIm1mr%2FbtsLSd79Asf%2FAAAAAAAAAAAAAAAAAAAAAN0P-Sf26XYiDAV9mjMjFPCSKJdxw_nlXEjgttrMJ9Mh%2Fimg.webp%3Fcredential%3DyqXZFxpELC7KVnFOS48ylbz2pIh7yKj8%26expires%3D1756652399%26allow_ip%3D%26allow_referer%3D%26signature%3DXCA1xO11dxfDcgsrU7Fyx3FStLw%253D" alt="result" title="result"/></p>
<p> <br>

<a
   href="https://sunnybong.tistory.com/849" 
   target="_blank" rel="noopener" 
  class="book-btn"
>original post (Kor)</a>
</p>
<hr>
</article>
 
      



<div class="flex flex-wrap justify-between">
  <span class="flex justify-start">
  
  </span>
  
  <span class="flex justify-end">
  
    
    <a href="https://mcjoi.github.io/python/04002/" class="flex align-center book-icon">
      <span>Move file by extensions</span>
      <img src="https://mcjoi.github.io/svg/forward.svg" class="book-icon" alt="Previous" />
    </a>
  
  </span>
</div>


      

      

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#what-is-it">What is it?</a></li>
    <li><a href="#sample-code">sample code</a></li>
    <li><a href="#result">result</a></li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
  
  
</body>
</html>












